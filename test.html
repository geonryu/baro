<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .imp-dialog{display: block !important;}
    </style>
</head>
<body>
    asdasda
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js" ></script>
    <script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.1.4.js"></script>
    <script>
        const storeCode = "imp64552146";
        const apiKey = "5774638076847266";
        const restSecret = "zzTsXNMBsBZdvw0qR0Hjuj9ZMuXJU61G5rYcGrOTUq4ykcjXnwSrN6kfzUM4F8gnQv311g28QVXjOKdg";

        IMP.init(storeCode);

        console.log(IMP);

        IMP.certification({ // param
            // 주문 번호
            //pg:'PG사코드.{CPID}',//본인인증 설정이 2개이상 되어 있는 경우 필
            merchant_uid: "ORD20180131-0000011", 
            // 모바일환경에서 popup:false(기본값) 인 경우 필수
            // m_redirect_url : "{리디렉션 될 URL}", 
            // PC환경에서는 popup 파라미터가 무시되고 항상 true 로 적용됨
            popup : true 
        }, function (rsp) { // callback
            if (rsp.success) {
                jQuery.ajax({
                    url: "{서버의 인증 정보를 받는 endpoint}", 
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    data: { imp_uid: rsp.imp_uid }
                });
            } else {
                alert("인증에 실패하였습니다. 에러 내용: " +  rsp.error_msg);
            }
        });


    </script>
</body>
</html>